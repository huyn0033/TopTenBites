function collapseDivUpload(n,t,i,r){let u=$("#"+i);if(u.hasClass("d-none")){let i=$.grep(Dropzone.instances,function(n){return n.element.id==r})[0];i==null&&$("#"+r).dropzone({url:"/Home/UploadImage",autoProcessQueue:!0,paramName:"file",maxFiles:5,maxFilesize:10,dictMaxFilesExceeded:"Please upload only 5 images at a time",acceptedFiles:"image/*",dictInvalidFileType:"Please upload only image files",params:{menuItemId:n,yelpBusinessId:t},success:function(n,i){let r=LightSliderInstances.dictInstances["lightSlider-"+t];if(r!=null){let n=i.fileRelativeUrl,u=i.fileRelativeUrlThumb,f='<li class="lslide" data-thumb="'+u+'" data-src="'+n+'"><img src="'+n+'" height="75" /><\/li>';$("#lightSlider-"+t).prepend(f);r.data("lightGallery").destroy(!0);r.lightGallery();r.refresh();r.goToSlide(0)}this.removeFile(n)},error:function(n,t){toastError(n.name+": "+(t.errorMessage||t))},complete:function(n){this.removeFile(n)}});u.removeClass("d-none")}else u.addClass("d-none")}function selectMenuItem(n,t,i){let r=$(n);r.hasClass("menuItemSelected")||(r.parent().find("tr").removeClass("menuItemSelected"),r.addClass("menuItemSelected"),getMenuItemImagesAndComments(t,i))}function getMenuItemImagesAndComments(n,t){$.ajax({url:"Home/GetMenuItemImagesAndComments",type:"POST",data:{menuItemId:n,yelpBusinessId:t},success:function(n){$("#divMenuItemInfo-"+t).html(n)}})}function toggleCommentSentiment(n){let t=$(n);t.attr("id")=="commentHeart"?t.parent().find("#commentThumbsDown").removeClass("selectedIcon"):t.attr("id")=="commentThumbsDown"&&t.parent().find("#commentHeart").removeClass("selectedIcon");t.toggleClass("selectedIcon")}function addComment(n,t){let u,i=$("#divMenuItemInfo-"+t),r=i.find("#txtComment");return r.val()==""?(alertTooltip(r,"Field is required"),!1):(u=i.find("#commentHeart").hasClass("selectedIcon")?1:i.find("#commentThumbsDown").hasClass("selectedIcon")?0:-1,$.ajax({url:"Home/AddComment",type:"POST",data:{text:r.val(),commentSentiment:u,menuItemId:n,yelpBusinessId:t},success:function(n){i.html(n);toastSuccess("Comment added")},error:function(n,t,i){toastError(n.responseJSON.errorMessage||i)}}),!1)}function addMenuItem(n,t){let r=$("#divBusinessMenu-"+n),u=$("#divBusinessMenuWrapper-"+n),i=u.find("#txtMenuItem");return i.val()==""?(alertTooltip(i,"Field is required"),!1):($.ajax({url:"Home/AddMenuItem",type:"POST",data:{txtMenuItem:i.val(),yelpBusinessId:n,yelpBusinessAlias:t},success:function(t){r.html(t);let i=r.find("tr.menuItemSelected"),u=i.attr("data-id");getMenuItemImagesAndComments(u,n);toastSuccess("Menu item added")},error:function(n,t,i){toastError(n.responseJSON.errorMessage||i)}}),!1)}function addLike(n,t,i){$.ajax({url:"Home/AddLike",type:"POST",data:{likeAction:n,menuItemId:t,yelpBusinessId:i},success:function(n){$("#divBusinessMenu-"+i).html(n);toastSuccess("Vote recorded")},error:function(n,t,i){toastError(n.errorMessage||i)}})}function toastSuccess(n){$.toast({text:n,icon:"success",position:"top-center",hideAfter:3e3})}function toastError(n){$.toast({text:n,icon:"error",position:"top-center",hideAfter:3e3})}function alertTooltip(n,t){n.tooltip("dispose").tooltip({title:t,animation:!0}).tooltip("show");setTimeout(function(){n.tooltip("dispose")},3e3)}function isEmpty(n){return n==null||n===""}Dropzone.autoDiscover=!1;let LightSliderInstances=function(){return{dictInstances:{}}}(),FingerprintHashCookie=function(){function t(n){let i="; "+document.cookie,t=i.split("; "+n+"=");if(t.length==2)return t.pop().split(";").shift()}function i(n,t,i){let r="";if(i){let n=new Date;n.setTime(n.getTime()+i*864e5);r="; expires="+n.toUTCString()}document.cookie=n+"="+(t||"")+r+"; path=/"}function r(){return t(n)}function u(t){i(n,t,null)}const n="fingerprintHash";return{getCookie:r,setCookie:u}}();